# Отчет по курсовому проекту
## по курсу "Логическое программирование"

### студент: Трунов А.В.
## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*

## Введение

1. Ознакомился с текстовым GEDCOM представлением генеалогических деревьев с сайта MyHeritage, а именно как предсталена информация хранящаяся в GEDCOM файле, как она соотносится с визуальной презентацией непосредственно на самом сайте.
2. Написал парсер, который преобразует GEDCOM файл в набор предикатов пролога.
3. Выполнил первое задание курсового проекта, в котором использовал начальные данные(полученные предикаты) и предикаты, которые нужно писать самому для выполнения задания.

## Задание

 1. Создать родословное дерево своего рода на несколько поколений (3-4) назад в стандартном формате GEDCOM с использованием сервиса MyHeritage.com 
 2. Преобразовать файл в формате GEDCOM в набор утверждений на языке Prolog, используя следующее представление: ...
 3. Реализовать предикат проверки/поиска .... 
 4. Реализовать программу на языке Prolog, которая позволит определять степень родства двух произвольных индивидуумов в дереве
 5. [На оценки хорошо и отлично] Реализовать естественно-языковый интерфейс к системе, позволяющий задавать вопросы относительно степеней родства, и получать осмысленные ответы. 

## Получение родословного дерева

Я составил свою родословную на сайте myheritage.com, далее скачал дерево с сайта в формате .ged. Дерево состоит из 17 человек и 4 поколений. Ниже прикреплен соответствующий файл.

## Конвертация родословного дерева


В качестве языка я выбрал Python, так как с помощью него удобно обрабатывать текст и он поддерживает императивную парадигму программирования, что мне знакомо, так как я изучал Си на прошлом курсе. [Код программы](https://github.com/MAILabs-Education-LP/lp-capstone-avtrunov/blob/master/parser.py).


Описание парсера:

Важная информация с моего дерева будет хранится в словаре, доступ будет осуществлятся по ключу - id, который присвоен каждому члену дерева. В словаре FamilyList будут находится словари типа Person, к которым можно обращаться по id. В 
них содержится обязательная информация об их имени и пола(ключи name, sex) и если у них есть дети, то дополнительно добавляется ключ child.
Таким образом получим некоторое подобие базы данных/таблицы, где обратившись по уникальному id человека можно узнать о нем соответсвующую информацию.
Выходной файл получается путем прохода полученного на предыдущем этапе словаря. На основании информации в каждой строке словаря создаются предикаты, если мужчина, то father(name,child), если женщина, то mother(name,child). 


## Предикат поиска родственника

В моем варианте нужно найти золовку, то есть сестру мужа. Для этого соответственно определим предикат husband (если два родителя имеют одного и того же ребенка, то X муж Y). 
```prolog
husband(X,Y):-
	father(X,Z),
	mother(Y,Z),
	X \= Y.
```
Аналогично определим предикат wife как обратный к предикату husband.
```prolog
wife(X,Y):-
	husband(Y,X).
```
Так как золовка имеет женский род, то введем предикат female.
```prolog
female(X):-
	mother(X,Y).
```
Так как золовка - это сестра мужа то нужно ввести предикат sibling, который определяется через предикат child (X является ребенком Y, если Y отец X или Y мать X).
```prolog
sibling(X,Y):-
	child(X,Z),
	child(Y,Z),
	X \= Y.
```
Таким образом предикат X является золовкой Y, если X - женщина, X - сестра Z, Y - жена Z.
```prolog
zolovka(X,Y):-
	female(X),
	sibling(X,Z),
	wife(Y,Z),
	X \= Y.
```
Пример работы программы
```prolog
| ?- zolovka(X,Y).

X = irina
Y = tatiana ? ;

X = galina
Y = tatiana ? ;

| ?- zolovka(maria,Y).

no
```
## Вывод
Этот курсовой проект представляет собой прекрасный пример заданий, которые помогли мне закрепить навыки в обработке информации и написании программ на языке Python. Также я ознакомился с логической парадигмой программирования и непосредственно с языком программирования Prolog. Задачи, которые были представлены в курсовом проекте, похожи на задачи с которыми сталкивается программист в реальной жизни: обработка текста для конкретных задач. Я изучил как преставлена информация с сайта MyHeritage в формате GEDCOM, закрепил навыки в написании простых парсеров, и познакомился c логическим программированием, определением предикатов, написаем правил и т.д.
Таким образом я смог извлечь полезный опыт, расширить свои познания и закрепить соотвествующие навыки.

